[{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"color 是一个 "},{"type":"text","level":0,"text":"枚举类型变量","bold":true},{"type":"text","level":0,"text":"，但在 C 语言中，枚举类型（enum）的本质是 "},{"type":"text","level":0,"text":"整数类型（","bold":true},{"type":"text","level":0,"text":"int）","bold":true},{"type":"text","level":0,"text":"，因此 scanf(\"%u\", &color); 依然可以接受用户输入的整数并存入 color 变量。"}]},{"type":"text","level":0},{"type":"title","level":2,"children":[{"type":"text","level":0,"text":"📌 为什么 ","bold":true},{"type":"text","level":0,"text":"enum 可以存整数？","bold":true}]},{"type":"text","level":0},{"type":"title","level":3,"children":[{"type":"text","level":0,"text":"C 语言的 ","bold":true},{"type":"text","level":0,"text":"enum 机制","bold":true}]},{"type":"text","level":0},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"在 C 语言中，enum 只是一个 "},{"type":"text","level":0,"text":"带名字的整数集合","bold":true},{"type":"text","level":0,"text":"，其底层实际上是 "},{"type":"text","level":0,"text":"int","bold":true},{"type":"text","level":0,"text":" 类型","bold":true},{"type":"text","level":0,"text":"。"}]},{"type":"text","level":0},{"type":"code","level":0,"code":"enum { red = 1, green, blue } color;\n","language":"text"},{"type":"text","level":0},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"red 的值是 1"}]},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"green 的值是 2（自动递增）"}]},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"blue 的值是 3（自动递增）"}]},{"type":"text","level":0},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"所以，"},{"type":"text","level":0,"text":"本质上 ","bold":true},{"type":"text","level":0,"text":"color 变量就是一个 int 变量","bold":true},{"type":"text","level":0,"text":"，它可以存储 1、2、3，甚至其他整数。"}]},{"type":"text","level":0},{"type":"title","level":2,"children":[{"type":"text","level":0,"text":"📌 ","bold":true},{"type":"text","level":0,"text":"scanf(\"%u\", &color); 是如何工作的？","bold":true}]},{"type":"text","level":0},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"scanf(\"%u\", &color); 读取用户输入的 "},{"type":"text","level":0,"text":"无符号整数","bold":true},{"type":"text","level":0,"text":"（unsigned int）。"}]},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"color 虽然是 enum 类型，但它底层是 "},{"type":"text","level":0,"text":"整数类型","bold":true}]},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"color 虽然是 enum 类型，但它底层是 "},{"type":"text","level":0,"text":"整数类型","bold":true},{"type":"text","level":0,"text":"，所以 scanf 可以把数值存进去。"}]},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"用户输入 2，那么 color = 2，即 color == green。"}]},{"type":"text","level":0},{"type":"title","level":2,"children":[{"type":"text","level":0,"text":"📌 ","bold":true},{"type":"text","level":0,"text":"scanf 读取 int 到 enum 的示例","bold":true}]},{"type":"text","level":0},{"type":"code","level":0,"code":"#include <stdio.h>\n\nint main() {\n    enum { red = 1, green, blue } color;\n\n    printf(\"请输入你喜欢的颜色: (1.red 2.green 3.blue): \");\n    scanf(\"%u\", &color);  // 读取用户输入的整数\n\n    if (color == red) {\n        printf(\"你喜欢的颜色是红色\\n\");\n    } else if (color == green) {\n        printf(\"你喜欢的颜色是绿色\\n\");\n    } else if (color == blue) {\n        printf(\"你喜欢的颜色是蓝色\\n\");\n    } else {\n        printf(\"你没有选择正确的颜色\\n\");\n    }\n\n    return 0;\n}\n","language":"text"},{"type":"text","level":0},{"type":"title","level":3,"children":[{"type":"text","level":0,"text":"运行示例","bold":true}]},{"type":"text","level":0},{"type":"title","level":4,"children":[{"type":"text","level":0,"text":"输入","bold":true}]},{"type":"code","level":0,"code":"请输入你喜欢的颜色: (1.red 2.green 3.blue): 2\n","language":"text"},{"type":"text","level":0},{"type":"title","level":4,"children":[{"type":"text","level":0,"text":"输出","bold":true}]},{"type":"code","level":0,"code":"你喜欢的颜色是绿色\n","language":"text"},{"type":"text","level":0},{"type":"title","level":2,"children":[{"type":"text","level":0,"text":"📌 ","bold":true},{"type":"text","level":0,"text":"scanf 读取 enum 变量的几个注意点","bold":true}]},{"type":"text","level":0},{"type":"title","level":3,"children":[{"type":"text","level":0,"text":"✅ 1. ","bold":true},{"type":"text","level":0,"text":"enum 变量可以存储整数","bold":true}]},{"type":"text","level":0},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"即使 color 是 enum 类型，scanf(\"%u\", &color); 仍然可以存入整数，因为 enum 底层就是 int。"}]},{"type":"text","level":0},{"type":"title","level":3,"children":[{"type":"text","level":0,"text":"✅ 2. ","bold":true},{"type":"text","level":0,"text":"scanf 不能防止非法输入","bold":true}]},{"type":"text","level":0},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"用户可能输入 100，但 enum 只有 1, 2, 3，所以在 switch 里需要 default 分支来处理非法输入。"}]},{"type":"text","level":0},{"type":"title","level":3,"children":[{"type":"text","level":0,"text":"✅ 3. ","bold":true},{"type":"text","level":0,"text":"scanf(\"%u\", &color); 读取的是 unsigned int","bold":true}]},{"type":"text","level":0},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"enum 在 C 语言中通常被视为 int，但 scanf(\"%u\") 读取的是 unsigned int，严格来说应该用 \"%d\"，否则可能导致 "},{"type":"text","level":0,"text":"类型不匹配","bold":true},{"type":"text","level":0,"text":" 的问题。"}]},{"type":"text","level":0},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"更安全的写法："}]},{"type":"code","level":0,"code":"scanf(\"%d\", (int*)&color);\n","language":"text"},{"type":"text","level":0},{"type":"title","level":2,"children":[{"type":"text","level":0,"text":"📌 总结","bold":true}]},{"type":"text","level":0},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"enum","bold":true},{"type":"text","level":0,"text":" 本质是 int","bold":true},{"type":"text","level":0,"text":"，所以 scanf(\"%u\", &color); 可以读取整数到 color 变量。"}]},{"type":"text","level":0},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"scanf(\"%u\", &color); 可能会导致类型不匹配的警告，最好使用 \"%d\"："}]},{"type":"code","level":0,"code":"scanf(\"%d\", (int*)&color);\n","language":"text"},{"type":"text","level":0},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"必须检查输入值是否有效","bold":true},{"type":"text","level":0,"text":"，否则可能导致 switch 语句匹配不到正确的 case。"}]},{"type":"text","level":0},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"🚀 "},{"type":"text","level":0,"text":"简单来说，枚举变量 ","bold":true},{"type":"text","level":0,"text":"color 本质上是 int，所以 scanf 能正常读取整数并存进去。","bold":true}]}]