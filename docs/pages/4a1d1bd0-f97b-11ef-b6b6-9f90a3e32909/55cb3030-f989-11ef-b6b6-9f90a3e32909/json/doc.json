[{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"---"}]},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"date: 2025-3-5"}]},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"---"}]},{"type":"text","level":1,"children":[{"type":"text","level":0,"text":"枚举"}]},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"枚举是c语言中的一种基本数据类型，用于定义一组具有离散值的常量。它可以让数据更简洁、更易读。"}]},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"比如，在定时器引起的中断函数中，"}]},{"type":"code","level":0,"code":"void timer_0() interrupt 1\n{\n    static uchar i;\n    i = (i + 1) % 30000;\n    \n    if (i % SEG_TIME == 0)\n        seg_flag = 1;\n}","language":"c"},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"其中，决定seg多久运行一次的`SEG_TIME`可以用define定义。"}]},{"type":"code","level":0,"code":"#define SEG_TIME 30","language":"c"},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"我们来定义一个枚举类型吧。"}]},{"type":"code","level":0,"code":"enum interrupt_time\n{\n    SEG_TIME = 30,\n    LED_TIME = 20,\n    KEY_TIME = 5\n}","language":"c"},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"interrupt_time 是枚举名称，接下来定义枚举变量吧。"}]},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"和其他基础变量一样，你可以声明的同时定义变量。"}]},{"type":"code","level":0,"code":"// 定义枚举类型的同时定义枚举变量\nenum interrupt_time\n{\n    SEG_TIME = 30\n} time;\n\n//先定义枚举类型，再定义枚举变量\nenum interrupt_time\n{\n    SEG_TIME = 30\n}\nenum interrupt_time time;","language":"c"},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"你还可以省略枚举名称"}]},{"type":"code","level":0,"code":"enum\n{\n    SEG_TIME = 40\n} time;","language":"c"},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"注意，如果你没有定义枚举元素的值，那么第一个枚举成员的默认值为整型的0，后续依次加一。"}]},{"type":"text","level":0,"children":[{"type":"text","level":0,"text":"枚举在switch语句中的使用"},{"type":"text","level":0,"text":":"}]},{"type":"code","level":0,"code":"#include <stdio.h>\n\nint main()\n{\n    enum {red = 1, green, blue} color;\n    printf(\"请输入你喜欢的颜色: (1.red 2.green 3.blue):\");\n    scanf(\"%u\", &color);\n\n    switch (color)\n    {\n        case red:\n            printf(\"你喜欢的颜色是红色\\n\");\n            break;\n        case green:\n            printf(\"你喜欢的颜色是绿色\\n\");\n            break;\n        case blue:\n            printf(\"你喜欢的颜色是蓝色\\n\");\n            break;\n        default:\n            printf(\"你没有选择你喜欢的颜色\\n\");\n    }\n\n    return 0;\n}\n   ","language":"c"},{"type":"text","level":0}]